@0


@1
MOV UP DOWN

@2


@3


@4
NXT: MOV RIGHT ACC
JEZ END
SAV
SUB DOWN
JLZ NEWMIN
MOV -1 DOWN #KEEP
JMP NXT

NEWMIN: MOV 1 DOWN
SWP
MOV ACC DOWN
JMP NXT

END:MOV DOWN NIL
MOV 3 DOWN #ENDLST

@5
MOV UP ACC
MOV ACC LEFT
MOV ACC RIGHT

@6
NXT: MOV LEFT ACC
JEZ END
SAV
SUB DOWN
JGZ NEWMAX
MOV -1 DOWN #KEEP
JMP NXT

NEWMAX: MOV 1 DOWN
SWP
MOV ACC DOWN
JMP NXT

END:MOV DOWN NIL
MOV 3 DOWN #ENDLS

@7
MOV 999999999 ACC
KEEP: MOV ACC UP
JRO UP
MOV UP ACC #NEWMIN
JMP KEEP

#END LIST
MOV ACC RIGHT

@8
MOV LEFT DOWN

@9
MOV -99999999 ACC
KEEP: MOV ACC UP
JRO UP
MOV UP ACC #NEWMAX
JMP KEEP

#END LIST
MOV ACC DOWN

@10

